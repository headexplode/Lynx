# Lynx
CSGO Server
<!-- BEGIN TEMPLATE: postbit_external -->
<div><font size="5"><b>This post is largely a copy of the GitHub ReadMe at</b> <a href="https://github.com/s...aster/README.md" target="_blank">https://github.com/s...d</a></font><br /><br /><font size="4"><b>CS:GO Multi-1v1</b></font><br />This plugin sets up 2+ players in separate 1v1 arenas, when all the arenas are done fighting, the winners move up an arena and the losers move down an arena. <br /><br /><a href="https://www.youtube.com/watch?v=rr6crOXafUk&amp;feature=youtu.be" target="_blank">Short video</a> of gameplay (note I had terrible internet connectivity when recording this)<br /><br />Screenshots:<br /><a href="http://i.imgur.com/TPP7c7p.jpg" target="_blank">http://i.imgur.com/T...7c7p.jpg</a><br /><a href="http://i.imgur.com/QXCKZ8R.jpg" target="_blank">http://i.imgur.com/Q...KZ8R.jpg</a><br /><br />Also check out my stats website for this at <a href="http://csgo1v1.splewis.net/" target="_blank">http://csgo1v1.splew...is.net/</a>.<br /><br /><b><font size="4"><br />Features</font></b><br />- Round types: there are 3 round types: rifle, pistol, and awp<br />- Player selection: players can select to allow pistol and awp rounds or ban them, rifle rounds are always allowed<br />- Player preference: players can also select a preference of round type, if player preferences match they will play that type, type <b>guns</b> to select your choice<br />- Weapon selection: players can select their primary (i.e. their rifle) and their pistol<br />- Armor on pistol rounds: helmets are taken away, and kevlar is also taken away if the player selected an upgraded pistol<br />- Optional flashbangs: players can select to &quot;allow flashbangs&quot; - if both players allow them, they each get 1<br />- ELO ranking system: optionally, player statistics can be stored in a database, see below for details<br /><br /><b><font size="5"><font size="4"><br /> Download</font></font></b><br />Download link: <a href="https://github.com/splewis/csgo-multi-1v1/releases" target="_blank">https://github.com/s...releases</a><br /><br />You can also download from the attachment on this post.<br /><br />I <b>strongly </b>recommend using the updater plugin which can automatically update the plugin for bug fixes. It can be found at <a href="https://forums.alliedmods.net/showthread.php?t=169095" target="_blank">https://forums.allie...=169095</a>.<br /><br /><b><font size="4"><br />Donations</font></b><br />The easiest way to support my open development of this is to donate. You can do this at <a href="http://csgo1v1.splewis.net/donate" target="_blank">http://csgo1v1.splew....net/donate</a>, which will also give you a reserved slot for my servers.<br /><br /><b><font size="4"><br />Installation</font></b><br />If you only want the plugin, either download <b>multi1v1.zip</b> or build it yourself.<br />It should contain the plugin binary (<b>plugins/multi1v1.smx</b>) and the default game config (<b>cfg/sourcemod/multi1v1/game_cvars.cfg</b>).<br />Extract these to the appropriate folders, tweak mul1v1.cfg if you want. The file <b>cfg/sourcemod/multi1v1/multi1v1.cfg</b> will be autogenerated when the plugin is first run and you can tweak it if you wish.<br /><br /><b><font size="4">Extras</font></b><br />My server has some extras such as the web-page for the stats and the !rank/!stats commands that show a player's web page with stats on it.<br />These are not included with the plugin but are not hard to implement yourself.<br /><br />Additionally, while it would be possible to define the round types and available weapons in a easy-to-change config file, it would be rather difficult to match<br />the full level of flexibility modifying the code gives. In particular, a config that could remove kevlar on upgraded pistols would be non-trivial to implement.<br /><br />If you want to write something custom in I can help, but I probably won't for free.<br /><br /><b><font size="4"><br />Building</font></b><br />The build process is managed by the Makefile.<br /><!-- BEGIN TEMPLATE: bbcode_code_printable -->
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<hr /><code style="margin:0px" dir="ltr" style="text-align:left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; make&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # builds the .smx file<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; make clean&nbsp; &nbsp; # clears .smx files, .zip files<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; make package&nbsp; # packages the files to multi1v1.zip</code><hr />
</div>
<!-- END TEMPLATE: bbcode_code_printable --><b>To compile, you will need:</b><br />- [Updater](<a href="https://forums.allie...ad.php?t=169095" target="_blank">https://forums.allie...hp?t=169095</a>)<br />- [SMLib](<a href="http://www.sourcemodplugins.org/smlib/" target="_blank">http://www.sourcemod....org/smlib/</a>)<br /><br /><br /><b><font size="4">Maps</font></b><br /><b>Note that you cannot use standard maps for this - the maps need separate arenas!</b><br /><br />I have a [workshop collection](<a href="http://steamcommunity.com/sharedfiles/filedetails/?id=249376192" target="_blank">http://steamcommunit...d=249376192</a>) of maps I use. Not all of the maps are finished though, so don't blindly use them all.<br /><br />Guidelines for making a multi-1v1 map:<br />- Create 1 arena and test it well, and when are you happy copy it<br />- Create at least 9 arenas, I'd recommend at least 12, however. Any more than 16 is probably overkill.<br />- The players shouldn't be able to see each other on spawn<br />- Each arena should have exactly 2 spawns - one for CT's and one for T's (this is a condition that may be relaxed in the future)<br />- If you want to edit your map, it's easiest to delete all but 1 arena and re-copy them. Be warned this can cause issues with the game's lighting and clients may crash the first time they load the new map if they had downloaded the old one previously<br />- You should avoid areas where it's easy for 1 player to hide; ideally they should have to cover multiple angles if they sit in one spot<br /><br /><br /><b><font size="4">Using the statistics database</font></b><br />You should add a database named mult1v1 to your databases.cfg file like so:<br /><!-- BEGIN TEMPLATE: bbcode_code_printable -->
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<hr /><code style="margin:0px" dir="ltr" style="text-align:left">&nbsp; &nbsp; &nbsp; &nbsp; &quot;multi1v1&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;driver&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;mysql&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;host&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;123.123.123.123&quot;&nbsp; &nbsp; &nbsp; &nbsp; // localhost works too<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;database&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;game_servers_database&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;user&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;mymulti1v1server&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;pass&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;strongpassword&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;timeout&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;10&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;port&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;3306&quot;&nbsp; &nbsp; &nbsp; &nbsp; // whatever port MySQL is set up on, 3306 is default<br />&nbsp; &nbsp; &nbsp; &nbsp; }</code><hr />
</div>
<!-- END TEMPLATE: bbcode_code_printable -->To create a MySQL user and database on the database server, you can run:<br /><!-- BEGIN TEMPLATE: bbcode_code_printable -->
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<hr /><code style="margin:0px" dir="ltr" style="text-align:left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE DATABASE game_servers_database;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE USER 'mymulti1v1server'@'123.123.123.123' IDENTIFIED BY 'strongpassword';<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GRANT ALL PRIVILEGES ON game_servers_database.multi1v1_stats TO 'mymulti1v1server'@'123.123.123.123';<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FLUSH PRIVILEGES;</code><hr />
</div>
<!-- END TEMPLATE: bbcode_code_printable -->Make sure to change the IP, the username, and the password. You should probably change the database as well, especially if you already have one set up you can use.<br /><br />Schema:<br /><!-- BEGIN TEMPLATE: bbcode_code_printable -->
<div style="margin:20px; margin-top:5px">
<div class="smallfont" style="margin-bottom:2px">Code:</div>
<hr /><code style="margin:0px" dir="ltr" style="text-align:left">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CREATE TABLE IF NOT EXISTS multi1v1_stats (<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; accountID INT NOT NULL PRIMARY KEY default 0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; auth varchar(64) NOT NULL default '',<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name varchar(64) NOT NULL default '',<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wins INT NOT NULL default 0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; losses INT NOT NULL default 0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rating FLOAT NOT NULL default 1500.0);</code><hr />
</div>
<!-- END TEMPLATE: bbcode_code_printable --><br />Note that the accountID field is what is returned by [GetSteamAccountID](<a href="https://wiki.alliedm...Changes#Clients" target="_blank">https://wiki.alliedm...ges#Clients</a>), which is &quot;the lower 32 bits of the full 64-bit Steam ID (referred to as community id by some) and is unique per account.&quot;<br /><br /><br /><br /><b><font size="4">Clientprefs Usage/Cookies</font></b><br />Player choices (round type preferences, weapon choices) can be saved so they persist across maps for players (via the SourceMod clientprefs API).<br />Installing sqlite should be sufficient for this.<br /><br />The reason the prefs/choice are not stored in the MySQL stats database, is because the data from it is not fetched immediately due to it taking longer.<br /><b><font size="4"><br />Other Notes</font></b><br />If you use an afk management plugin you may want to disable kicking spectators, because players are placed in a waiting queue on spectator when all the arenas are full.</div>


<br />	<div style="padding:6px">








<fieldset class="fieldset">
<legend>Attached Files</legend>
<table cellpadding="0" cellspacing="3" border="0">
<!-- BEGIN TEMPLATE: postbit_attachment -->
<tr>
<td><img class="inlineimg" src="https://forums.allie.../attach/zip.gif" alt="File Type: zip" width="16" height="16" border="0" style="vertical-align:baseline" /></td>
<td>


<a href="https://forums.allie...38;d=1401156943">multi1v1.zip</a> (47.6 KB)


</td>
</tr>
<!-- END TEMPLATE: postbit_attachment -->
</table>
</fieldset>


</div>

<!-- END TEMPLATE: postbit_external -->
